"use strict";

//Forecast slider
function setupForecastSlider(sliderSelector, itemSelector, buttonLeftSelector, buttonRightSelector, indexSlideScale) {
  var currentSlide = 0;
  var initialX = 0;
  var dragging = false;
  var carousel = document.querySelector(sliderSelector);
  var slides = document.querySelectorAll(itemSelector);
  var totalSlides = slides.length;
  function refreshCarousel() {
    slides.forEach(function (slide, index) {
      var offset = index - currentSlide;
      var slideTranslate = 50;
      // if (window.innerWidth <= 1100){
      //     slideTranslate = 47
      // }
      var newPosition = offset * slideTranslate;
      if (offset > totalSlides / 2) {
        newPosition -= totalSlides * slideTranslate;
      } else if (offset < -totalSlides / 2) {
        newPosition += totalSlides * slideTranslate;
      }
      var scale = index === currentSlide ? 1 : indexSlideScale;
      slide.style.transform = "translateX(".concat(newPosition, "%) scale(").concat(scale, ")");
      slide.style.zIndex = index === currentSlide ? 3 : 1;
      var isVisible = Math.abs(offset) <= 1 || index === 0 && currentSlide === totalSlides - 1 || index === totalSlides - 1 && currentSlide === 0;
      slide.classList.toggle('hidden', !isVisible);
      slide.classList.toggle('active', index === currentSlide);
      slide.classList.remove('left-slide', 'right-slide');
      if (offset === 1 || currentSlide === totalSlides - 1 && index === 0) {
        slide.classList.add('right-slide');
      } else if (offset === -1 || currentSlide === 0 && index === totalSlides - 1) {
        slide.classList.add('left-slide');
      }
    });
  }
  function shiftSlide(direction) {
    currentSlide = (currentSlide + direction + totalSlides) % totalSlides;
    refreshCarousel();
  }
  function handleDragStart(event) {
    dragging = true;
    initialX = event.clientX || event.touches[0].clientX;
  }
  function handleDragMove(event) {
    if (!dragging) return;
    var currentX = event.clientX || event.touches[0].clientX;
    var diffX = currentX - initialX;
    if (Math.abs(diffX) > 50) {
      shiftSlide(diffX > 0 ? -1 : 1);
      dragging = false;
    }
  }
  function handleDragEnd() {
    dragging = false;
  }
  var leftButtons = document.querySelectorAll(buttonLeftSelector);
  var rightButtons = document.querySelectorAll(buttonRightSelector);
  leftButtons.forEach(function (btn) {
    btn.addEventListener('click', function () {
      shiftSlide(-1);
    });
  });
  rightButtons.forEach(function (btn) {
    btn.addEventListener('click', function () {
      shiftSlide(1);
    });
  });
  carousel.addEventListener('mousedown', handleDragStart);
  carousel.addEventListener('touchstart', handleDragStart);
  document.addEventListener('mousemove', handleDragMove);
  document.addEventListener('touchmove', handleDragMove);
  document.addEventListener('mouseup', handleDragEnd);
  document.addEventListener('touchend', handleDragEnd);
  refreshCarousel();
}
setupForecastSlider('.videos__slider', '.videos__item', '.videos__control-left', '.videos__control-right', 0.56);
var sliderItems = document.querySelectorAll(".videos__item");
sliderItems.forEach(function (item, i) {
  var videoIframe = item.querySelector(".videoIframe");
  var videoPlayBtn = item.querySelector(".videoPlayBtn");
  var parentElement = videoIframe.parentElement;
  videoPlayBtn.addEventListener("click", function () {
    videoIframe.src = videoIframe.src + '&autoplay=1';
    videoIframe.style.display = "block";
    videoPlayBtn.style.display = "none";
    parentElement.style.border = "none";
  });
});
var blackBtn = document.querySelector(".dark-btn");
blackBtn.addEventListener("click", function () {
  document.body.classList.toggle("dark");
  document.body.classList.toggle("light");
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsic2V0dXBGb3JlY2FzdFNsaWRlciIsInNsaWRlclNlbGVjdG9yIiwiaXRlbVNlbGVjdG9yIiwiYnV0dG9uTGVmdFNlbGVjdG9yIiwiYnV0dG9uUmlnaHRTZWxlY3RvciIsImluZGV4U2xpZGVTY2FsZSIsImN1cnJlbnRTbGlkZSIsImluaXRpYWxYIiwiZHJhZ2dpbmciLCJjYXJvdXNlbCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNsaWRlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0b3RhbFNsaWRlcyIsImxlbmd0aCIsInJlZnJlc2hDYXJvdXNlbCIsImZvckVhY2giLCJzbGlkZSIsImluZGV4Iiwib2Zmc2V0Iiwic2xpZGVUcmFuc2xhdGUiLCJuZXdQb3NpdGlvbiIsInNjYWxlIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJjb25jYXQiLCJ6SW5kZXgiLCJpc1Zpc2libGUiLCJNYXRoIiwiYWJzIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwicmVtb3ZlIiwiYWRkIiwic2hpZnRTbGlkZSIsImRpcmVjdGlvbiIsImhhbmRsZURyYWdTdGFydCIsImV2ZW50IiwiY2xpZW50WCIsInRvdWNoZXMiLCJoYW5kbGVEcmFnTW92ZSIsImN1cnJlbnRYIiwiZGlmZlgiLCJoYW5kbGVEcmFnRW5kIiwibGVmdEJ1dHRvbnMiLCJyaWdodEJ1dHRvbnMiLCJidG4iLCJhZGRFdmVudExpc3RlbmVyIiwic2xpZGVySXRlbXMiLCJpdGVtIiwiaSIsInZpZGVvSWZyYW1lIiwidmlkZW9QbGF5QnRuIiwicGFyZW50RWxlbWVudCIsInNyYyIsImRpc3BsYXkiLCJib3JkZXIiLCJibGFja0J0biIsImJvZHkiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQSxTQUFTQSxtQkFBbUJBLENBQUNDLGNBQWMsRUFBRUMsWUFBWSxFQUFFQyxrQkFBa0IsRUFBRUMsbUJBQW1CLEVBQUVDLGVBQWUsRUFBRTtFQUNqSCxJQUFJQyxZQUFZLEdBQUcsQ0FBQztFQUNw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LGdCQUFnQixDQUFDLE9BQU8sRUFBRSxZQUFLO0VBQ3BDdEMsUUFBUSxDQUFDaUQsSUFBSSxDQUFDNUIsU0FBUyxDQUFDQyxNQUFNLENBQUMsTUFBTSxDQUFDO0VBQ3RDdEIsUUFBUSxDQUFDaUQsSUFBSSxDQUFDNUIsU0FBUyxDQUFDQyxNQUFNLENBQUMsT0FBTyxDQUFDO0FBRTNDLENBQUMsQ0FBQyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9Gb3JlY2FzdCBzbGlkZXJcbmZ1bmN0aW9uIHNldHVwRm9yZWNhc3RTbGlkZXIoc2xpZGVyU2VsZWN0b3IsIGl0ZW1TZWxlY3RvciwgYnV0dG9uTGVmdFNlbGVjdG9yLCBidXR0b25SaWdodFNlbGVjdG9yLCBpbmRleFNsaWRlU2NhbGUpIHtcbiAgICBsZXQgY3VycmVudFNsaWRlID0gMDtcbiAgICBsZXQgaW5pdGlhbFggPSAwO1xuICAgIGxldCBkcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgY29uc3QgY2Fyb3VzZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNsaWRlclNlbGVjdG9yKTtcbiAgICBjb25zdCBzbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGl0ZW1TZWxlY3Rvcik7XG4gICAgY29uc3QgdG90YWxTbGlkZXMgPSBzbGlkZXMubGVuZ3RoO1xuXG4gICAgZnVuY3Rpb24gcmVmcmVzaENhcm91c2VsKCkge1xuICAgICAgICBzbGlkZXMuZm9yRWFjaCgoc2xpZGUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBpbmRleCAtIGN1cnJlbnRTbGlkZTtcbiAgICAgICAgICAgIGxldCBzbGlkZVRyYW5zbGF0ZSA9IDUwXG4gICAgICAgICAgICAvLyBpZiAod2luZG93LmlubmVyV2lkdGggPD0gMTEwMCl7XG4gICAgICAgICAgICAvLyAgICAgc2xpZGVUcmFuc2xhdGUgPSA0N1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgbGV0IG5ld1Bvc2l0aW9uID0gb2Zmc2V0ICogc2xpZGVUcmFuc2xhdGU7XG5cblxuICAgICAgICAgICAgaWYgKG9mZnNldCA+IHRvdGFsU2xpZGVzIC8gMikge1xuICAgICAgICAgICAgICAgIG5ld1Bvc2l0aW9uIC09IHRvdGFsU2xpZGVzICogc2xpZGVUcmFuc2xhdGU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9mZnNldCA8IC10b3RhbFNsaWRlcyAvIDIpIHtcbiAgICAgICAgICAgICAgICBuZXdQb3NpdGlvbiArPSB0b3RhbFNsaWRlcyAqIHNsaWRlVHJhbnNsYXRlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzY2FsZSA9IGluZGV4ID09PSBjdXJyZW50U2xpZGUgPyAxIDogaW5kZXhTbGlkZVNjYWxlO1xuXG4gICAgICAgICAgICBzbGlkZS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke25ld1Bvc2l0aW9ufSUpIHNjYWxlKCR7c2NhbGV9KWA7XG4gICAgICAgICAgICBzbGlkZS5zdHlsZS56SW5kZXggPSBpbmRleCA9PT0gY3VycmVudFNsaWRlID8gMyA6IDE7XG5cbiAgICAgICAgICAgIGNvbnN0IGlzVmlzaWJsZSA9IE1hdGguYWJzKG9mZnNldCkgPD0gMSB8fCAoaW5kZXggPT09IDAgJiYgY3VycmVudFNsaWRlID09PSB0b3RhbFNsaWRlcyAtIDEpIHx8IChpbmRleCA9PT0gdG90YWxTbGlkZXMgLSAxICYmIGN1cnJlbnRTbGlkZSA9PT0gMCk7XG4gICAgICAgICAgICBzbGlkZS5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCAhaXNWaXNpYmxlKTtcbiAgICAgICAgICAgIHNsaWRlLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIGluZGV4ID09PSBjdXJyZW50U2xpZGUpO1xuXG4gICAgICAgICAgICBzbGlkZS5jbGFzc0xpc3QucmVtb3ZlKCdsZWZ0LXNsaWRlJywgJ3JpZ2h0LXNsaWRlJyk7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ID09PSAxIHx8IChjdXJyZW50U2xpZGUgPT09IHRvdGFsU2xpZGVzIC0gMSAmJiBpbmRleCA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICBzbGlkZS5jbGFzc0xpc3QuYWRkKCdyaWdodC1zbGlkZScpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvZmZzZXQgPT09IC0xIHx8IChjdXJyZW50U2xpZGUgPT09IDAgJiYgaW5kZXggPT09IHRvdGFsU2xpZGVzIC0gMSkpIHtcbiAgICAgICAgICAgICAgICBzbGlkZS5jbGFzc0xpc3QuYWRkKCdsZWZ0LXNsaWRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNoaWZ0U2xpZGUoZGlyZWN0aW9uKSB7XG4gICAgICAgIGN1cnJlbnRTbGlkZSA9IChjdXJyZW50U2xpZGUgKyBkaXJlY3Rpb24gKyB0b3RhbFNsaWRlcykgJSB0b3RhbFNsaWRlcztcbiAgICAgICAgcmVmcmVzaENhcm91c2VsKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlRHJhZ1N0YXJ0KGV2ZW50KSB7XG4gICAgICAgIGRyYWdnaW5nID0gdHJ1ZTtcbiAgICAgICAgaW5pdGlhbFggPSBldmVudC5jbGllbnRYIHx8IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVEcmFnTW92ZShldmVudCkge1xuICAgICAgICBpZiAoIWRyYWdnaW5nKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgY3VycmVudFggPSBldmVudC5jbGllbnRYIHx8IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgICAgY29uc3QgZGlmZlggPSBjdXJyZW50WCAtIGluaXRpYWxYO1xuXG4gICAgICAgIGlmIChNYXRoLmFicyhkaWZmWCkgPiA1MCkge1xuICAgICAgICAgICAgc2hpZnRTbGlkZShkaWZmWCA+IDAgPyAtMSA6IDEpO1xuICAgICAgICAgICAgZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZURyYWdFbmQoKSB7XG4gICAgICAgIGRyYWdnaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgbGVmdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGJ1dHRvbkxlZnRTZWxlY3RvcilcbiAgICBjb25zdCByaWdodEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGJ1dHRvblJpZ2h0U2VsZWN0b3IpXG4gICAgbGVmdEJ1dHRvbnMuZm9yRWFjaChidG4gID0+IHtcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgc2hpZnRTbGlkZSgtMSk7XG4gICAgICAgIH0pXG4gICAgfSlcbiAgICByaWdodEJ1dHRvbnMuZm9yRWFjaChidG4gID0+IHtcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgc2hpZnRTbGlkZSgxKTtcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgY2Fyb3VzZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlRHJhZ1N0YXJ0KTtcbiAgICBjYXJvdXNlbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgaGFuZGxlRHJhZ1N0YXJ0KTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZURyYWdNb3ZlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBoYW5kbGVEcmFnTW92ZSk7XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaGFuZGxlRHJhZ0VuZCk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBoYW5kbGVEcmFnRW5kKTtcblxuICAgIHJlZnJlc2hDYXJvdXNlbCgpO1xufVxuXG5zZXR1cEZvcmVjYXN0U2xpZGVyKCcudmlkZW9zX19zbGlkZXInLCAnLnZpZGVvc19faXRlbScsICcudmlkZW9zX19jb250cm9sLWxlZnQnLCAnLnZpZGVvc19fY29udHJvbC1yaWdodCcsIDAuNTYpO1xuXG5cbmNvbnN0IHNsaWRlckl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi52aWRlb3NfX2l0ZW1cIik7XG5zbGlkZXJJdGVtcy5mb3JFYWNoKChpdGVtLCBpKSA9PntcbiAgICBjb25zdCB2aWRlb0lmcmFtZSA9IGl0ZW0ucXVlcnlTZWxlY3RvcihcIi52aWRlb0lmcmFtZVwiKVxuICAgIGNvbnN0IHZpZGVvUGxheUJ0biA9IGl0ZW0ucXVlcnlTZWxlY3RvcihcIi52aWRlb1BsYXlCdG5cIilcbiAgICBjb25zdCBwYXJlbnRFbGVtZW50ID0gdmlkZW9JZnJhbWUucGFyZW50RWxlbWVudFxuICAgIHZpZGVvUGxheUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT57XG4gICAgICAgIHZpZGVvSWZyYW1lLnNyYyA9IHZpZGVvSWZyYW1lLnNyYyArICcmYXV0b3BsYXk9MSc7XG4gICAgICAgIHZpZGVvSWZyYW1lLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcbiAgICAgICAgdmlkZW9QbGF5QnRuLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxuICAgICAgICBwYXJlbnRFbGVtZW50LnN0eWxlLmJvcmRlciA9IFwibm9uZVwiXG5cbiAgICB9KVxufSlcblxuXG5cbmNvbnN0IGJsYWNrQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kYXJrLWJ0blwiKVxuXG5ibGFja0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT57XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKFwiZGFya1wiKVxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZShcImxpZ2h0XCIpXG5cbn0pIl19
